<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ethereum Time Capsule - Preserve Your Digital Legacy</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Figma-inspired design variables */
    :root {
      /* Colors */
      --eth1: #ffffff;
      --eth2: #ececec;
      --eth3: #232323;
      --eth4: #c0c0c0;
      --eth5: #242ae0;
      --d9d9d9: #d9d9d9;
      
      /* Fonts */
      --eth1-font-family: 'Inter', sans-serif;
      --eth1-font-size: 12px;
      --eth1-font-weight: 500;
      --button-font-family: 'Inter', sans-serif;
      --button-font-size: 20px;
      --button-font-weight: 600;
      --intro-copy-font-family: 'Inter', sans-serif;
      --intro-copy-font-size: 20px;
      --intro-copy-font-weight: 400;
      --slogan-mobile-font-family: 'Space Grotesk', sans-serif;
      --slogan-mobile-font-size: 40px;
      --slogan-mobile-line-height: 48px;
      --slogan-mobile-font-weight: 700;
      --tinx-font-family: 'Inter', sans-serif;
      --tinx-font-size: 10px;
      --tinx-font-weight: 400;
      --tinx-light-font-family: 'Inter', sans-serif;
      --tinx-light-font-size: 11px;
      --tinx-light-font-weight: 300;
      --small-button-font-family: 'Inter', sans-serif;
      --small-button-font-size: 16px;
      --small-button-font-weight: 600;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: var(--eth1-font-family);
      background: var(--eth1);
      color: var(--eth3);
    }

    /* Main container */
    .home-container {
      background: var(--eth1);
      border-radius: 24px;
      border: 1px solid #000000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      max-width: 400px;
      margin: 0 auto;
      overflow: hidden;
      position: relative;
    }    /* Header */
    .header {
      background: var(--eth2);
      padding: 12px 20px 12px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      height: 68px;
      min-width: 272px;
      position: relative;
    }

    .logo {
      font-family: var(--small-button-font-family);
      font-size: 18px;
      font-weight: var(--small-button-font-weight);
      color: var(--eth3);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .logo-icon {
      font-size: 24px;
    }    .menu {
      width: 52px;
      height: 52px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: var(--d9d9d9);
      border-radius: 12px;
      cursor: pointer;
      gap: 4px;
      padding: 14px 12px;
      transition: all 0.3s ease;
    }

    .menu:hover {
      background: #c5c5c5;
    }

    .menu-line {
      width: 28px;
      height: 2px;
      background-color: var(--eth3);
      border-radius: 1px;
      transition: all 0.3s ease;
    }    /* Menu dropdown */
    .menu-dropdown {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: var(--eth2);
      z-index: 1000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: var(--eth1-font-family);
      font-size: 24px;
      font-weight: 400;
      transform: translateY(-100%);
      transition: transform 0.3s ease-in-out;
    }

    .menu-dropdown.show {
      transform: translateY(0);
    }

    .menu-dropdown a {
      display: block;
      padding: 20px 0;
      text-decoration: none;
      color: var(--eth3);
      text-align: center;
      width: 100%;
      transition: opacity 0.2s ease;
    }

    .menu-dropdown a:hover {
      opacity: 0.7;
    }

    /* Add a back button */
    .menu-back {
      position: absolute;
      bottom: 40px;
      left: 40px;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 24px;
      color: var(--eth3);
    }

    /* Body */
    .body {
      padding: 32px 0;
      display: flex;
      flex-direction: column;
      gap: 16px;
      align-items: center;
      justify-content: center;
      width: 100%;
      flex: 1;
    }

    /* Thumbnail carousel */
    .thumb-carousel {
      display: flex;
      gap: 16px;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 222px;
      padding: 0 20px;
      overflow-x: auto;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    .thumb-carousel::-webkit-scrollbar {
      display: none;
    }

    .intro-thumbnail {
      flex-shrink: 0;
      width: 162px;
      height: 222px;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .intro-thumbnail:hover {
      transform: translateY(-5px);
    }

    .rectangle-143 {
      background: var(--eth2);
      border-radius: 15px;
      width: 162px;
      height: 221.68px;
      position: absolute;
      left: 0.06px;
      top: 0.32px;
    }

    .content {
      padding: 0 12px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      align-items: flex-start;
      justify-content: flex-start;
      width: 162px;
      height: 111px;
      position: absolute;
      left: 0;
      top: 111.02px;
      z-index: 10;
    }

    .issued-by-xyz {
      color: #000000;
      text-align: left;
      font-family: var(--tinx-font-family);
      font-size: var(--tinx-font-size);
      font-weight: var(--tinx-font-weight);
      width: 150.06px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: flex-start;
    }

    .title-on-two-lines {
      color: #000000;
      text-align: left;
      font-family: var(--small-button-font-family);
      font-size: var(--small-button-font-size);
      font-weight: var(--small-button-font-weight);
      width: 150.06px;
      height: 42px;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      line-height: 1.3;
    }

    .onchain-values-container {
      background: var(--d9d9d9);
      border-radius: 16px;
      opacity: 0.68;
      padding: 2px 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 98px;
      height: 24px;
    }

    .onchain-values {
      color: #000000;
      text-align: center;
      font-family: var(--tinx-light-font-family);
      font-size: var(--tinx-light-font-size);
      font-weight: var(--tinx-light-font-weight);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .image-cropped {
      border-radius: 12px;
      width: 162px;
      height: 111px;
      position: absolute;
      left: 0;
      top: 0.32px;
      object-fit: cover;
      background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
    }

    .image-placeholder {
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      color: #999;
      background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
      border-radius: 12px;
      width: 162px;
      height: 111px;
      position: absolute;
      left: 0;
      top: 0.32px;
    }

    /* Copy section */
    .copy {
      padding: 0 40px;
      display: flex;
      flex-direction: column;
      gap: 24px;
      align-items: center;
      justify-content: center;
      width: 100%;
      flex: 1;
    }

    .main-heading {
      color: #000000;
      text-align: left;
      font-family: var(--slogan-mobile-font-family);
      font-size: var(--slogan-mobile-font-size);
      line-height: var(--slogan-mobile-line-height);
      font-weight: var(--slogan-mobile-font-weight);
      width: 296.72px;
      max-width: 100%;
    }

    .intro-copy {
      color: #000000;
      text-align: left;
      font-family: var(--intro-copy-font-family);
      font-size: var(--intro-copy-font-size);
      font-weight: var(--intro-copy-font-weight);
      width: 296.72px;
      max-width: 100%;
      line-height: 1.4;
    }

    .button-add-your-entry {
      background: var(--eth5);
      border-radius: 46px;
      padding: 12px 37px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .button-add-your-entry:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(36, 42, 224, 0.3);
    }

    .add-your-entry {
      color: var(--eth1);
      text-align: center;
      font-family: var(--small-button-font-family);
      font-size: var(--small-button-font-size);
      font-weight: var(--small-button-font-weight);
      display: flex;
      align-items: center;
      justify-content: center;
    }    /* New section styles */
    .section-container {
      background: var(--eth2);
      border-radius: 16px;
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      align-items: center;
      justify-content: center;
      width: 100%;
      max-width: 400px;
      margin: 0 auto;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .section-container:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    }

    .section-visual {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }    .visual-placeholder {
      width: 100%;
      height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      border-radius: 12px;
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    }

    .visual-placeholder.large {
      height: 120px;
    }

    .visual-placeholder.medium {
      height: 100px;
    }

    .visual-item {
      width: 100%;
      height: 100%;
      position: absolute;
      border-radius: 12px;
      background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
    }

    .visual-item.small {
      width: 60%;
      height: 60%;
      top: 10%;
      left: 10%;
    }    .visual-item.large {
      width: 80%;
      height: 80%;
      top: 10%;
      left: 10%;
    }

    /* Visual grid styles for "How it works" section */
    .visual-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: 1fr 1fr;
      gap: 8px;
      width: 80px;
      height: 80px;
    }

    .grid-item {
      background: linear-gradient(45deg, #ddd, #ccc);
      border-radius: 8px;
    }

    .grid-item:first-child {
      grid-column: 1 / -1;
      height: 30px;
    }

    /* Circle styles for "Small fee" section */
    .visual-placeholder.small-circles {
      height: 80px;
      position: relative;
    }

    .circle-top {
      width: 40px;
      height: 40px;
      background: linear-gradient(45deg, #e0e0e0, #d0d0d0);
      border-radius: 50%;
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
    }

    .circle-bottom-left {
      width: 24px;
      height: 24px;
      background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
      border-radius: 50%;
      position: absolute;
      bottom: 0;
      left: 20%;
    }

    .circle-bottom-right {
      width: 30px;
      height: 30px;
      background: linear-gradient(45deg, #e8e8e8, #d8d8d8);
      border-radius: 50%;
      position: absolute;
      bottom: 0;
      right: 20%;
    }

    /* Section list styles */
    .section-list {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 8px;
      width: 100%;
      max-width: 400px;
    }

    .section-list li {
      color: #000000;
      text-align: center;
      font-family: var(--intro-copy-font-family);
      font-size: var(--intro-copy-font-size);
      font-weight: var(--intro-copy-font-weight);
      line-height: 1.4;
      position: relative;
      padding-left: 20px;
    }

    .section-list li::before {
      content: "‚Ä¢";
      color: var(--eth3);
      font-size: 20px;
      position: absolute;
      left: 0;
      top: 0;
    }

    /* Centered content for final CTA */
    .section-content.centered {
      text-align: center;
    }

    .section-content {
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: center;
      justify-content: center;
      width: 100%;
    }

    .section-heading {
      color: #000000;
      text-align: center;
      font-family: var(--slogan-mobile-font-family);
      font-size: var(--slogan-mobile-font-size);
      line-height: var(--slogan-mobile-line-height);
      font-weight: var(--slogan-mobile-font-weight);
      width: 100%;
    }

    .section-text {
      color: #000000;
      text-align: center;
      font-family: var(--intro-copy-font-family);
      font-size: var(--intro-copy-font-size);
      font-weight: var(--intro-copy-font-weight);
      width: 100%;
      max-width: 400px;
      line-height: 1.4;
    }

    .button-secondary {
      background: var(--d9d9d9);
      border-radius: 46px;
      padding: 12px 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .button-secondary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }

    .fee-text {
      font-weight: 500;
    }

    .final-cta {
      background: var(--eth5);
      border-radius: 16px;
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      align-items: center;
      justify-content: center;
      width: 100%;
      max-width: 400px;
      margin: 0 auto;
    }

    .button-primary-large {
      background: var(--eth3);
      border-radius: 46px;
      padding: 12px 37px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.3s ease;
      color: var(--eth1);
      font-family: var(--small-button-font-family);
      font-size: var(--small-button-font-size);
      font-weight: var(--small-button-font-weight);
    }

    .button-primary-large:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }

    /* Loading state */
    .loading {
      opacity: 0.7;
    }

    /* Responsive adjustments */
    @media (max-width: 420px) {
      .home-container {
        max-width: 100%;
        border-radius: 0;
        border: none;
        min-height: 100vh;
      }

      .copy {
        padding: 0 20px;
      }

      .main-heading {
        font-size: 32px;
        line-height: 38px;
      }

      .intro-copy {
        font-size: 18px;
      }

      .section-container {
        padding: 16px;
      }

      .section-heading {
        font-size: 28px;
      }

      .section-text {
        font-size: 16px;
      }

      .button-secondary {
        padding: 10px 20px;
      }

      .button-primary-large {
        padding: 10px 20px;
      }
    }

    @media (min-width: 768px) {
      .home-container {
        max-width: 500px;
        margin: 20px auto;
        min-height: calc(100vh - 40px);
      }
    }
  </style>
</head>
<body>
  <div class="home-container">
    <!-- Header -->
    <div class="header">
      <a href="index.html" class="logo">
        <span class="logo-icon">üï∞Ô∏è</span>
        <span>Time Capsule</span>
      </a>      <div class="menu" id="menuButton">
        <div class="menu-line"></div>
        <div class="menu-line"></div>
        <div class="menu-line"></div>
      </div>
    </div>

    <!-- Body -->
    <div class="body">
      <!-- Thumbnail carousel -->
      <div class="thumb-carousel" id="thumbCarousel">
        <!-- Sample capsules will be loaded here -->
        <div class="intro-thumbnail loading">
          <div class="rectangle-143"></div>
          <div class="content">
            <div class="issued-by-xyz">issued by xyz</div>
            <div class="title-on-two-lines">
              This is the title<br />
              on two lines
            </div>
            <div class="onchain-values-container">
              <div class="onchain-values">#OnchainValues</div>
            </div>
          </div>
          <div class="image-placeholder">üîí</div>
        </div>
        
        <div class="intro-thumbnail loading">
          <div class="rectangle-143"></div>
          <div class="content">
            <div class="issued-by-xyz">issued by xyz</div>
            <div class="title-on-two-lines">
              This is the title<br />
              on two lines
            </div>
            <div class="onchain-values-container">
              <div class="onchain-values">#OnchainValues</div>
            </div>
          </div>
          <div class="image-placeholder">üîí</div>
        </div>
      </div>

      <!-- Copy section -->
      <div class="copy">
        <div class="main-heading">
          Be part<br />
          of Ethereum's<br />
          living history
        </div>
        
        <div class="intro-copy">
          To celebrate Ethereum's 10th anniversary, we've created an Ethereum time capsule<br />
          ‚Äî privately sealed now, revealed later, and immutably recorded onchain forever.
        </div>
      </div>

      <a href="create.html" class="button-add-your-entry">
        <div class="add-your-entry">add your entry</div>
      </a>
      
      <!-- Open to all section -->
      <div class="section-container">
        <div class="section-visual">
          <div class="visual-placeholder large">
            <div class="visual-item"></div>
            <div class="visual-item small"></div>
          </div>
        </div>
        
        <div class="section-content">
          <div class="section-heading">Open to all</div>
          <div class="section-text">
            Every builder, user, artist, and dreamer is invited to leave their mark. Stories of triumph, failure, growth, and evolution. Drops, timeless memes, project skills, visions for Ethereum's future ‚Äî even love letters to what makes blockchain unlock new future.
          </div>
          <a href="gallery.html" class="button-secondary">
            <div class="button-text">see submissions</div>
          </a>
        </div>
      </div>
      
      <!-- How it works section -->
      <div class="section-container">
        <div class="section-visual">
          <div class="visual-placeholder medium">
            <div class="visual-grid">
              <div class="grid-item"></div>
              <div class="grid-item"></div>
              <div class="grid-item"></div>
            </div>
          </div>
        </div>
        
        <div class="section-content">
          <div class="section-heading">How it works</div>
          <ul class="section-list">
            <li>Entries are submitted immediately</li>
            <li>Sealed until July 30, 2025</li>
            <li>Submissions are sealed with Shutter Ditto ‚ö° encrypted encryption</li>
          </ul>
          <a href="#" class="button-secondary">
            <div class="button-text">learn about shutter API</div>
          </a>
        </div>
      </div>
      
      <!-- Small fee section -->
      <div class="section-container">
        <div class="section-visual">
          <div class="visual-placeholder small-circles">
            <div class="circle-top"></div>
            <div class="circle-bottom-left"></div>
            <div class="circle-bottom-right"></div>
          </div>
        </div>
        
        <div class="section-content">
          <div class="section-heading">A small fee, a big impact</div>
          <div class="section-text fee-text">
            Each submission costs 0.001 ETH (~$2.62)
          </div>
          <div class="section-text">
            All funds go to Protocol Guild, supporting the core developers who keep advancing and securing Ethereum.
          </div>
        </div>
      </div>
      
      <!-- Final CTA section -->
      <div class="section-container final-cta">
        <div class="section-content centered">
          <div class="section-heading">
            Are you ready to be part of Ethereum's living history ?
          </div>
          <a href="create.html" class="button-primary-large">
            <div class="button-text">Submit to the capsule</div>
          </a>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <a href="gallery.html" class="learn-more">learn more</a>
    </div>
  </div>

  <!-- Scripts -->
  <script type="module">
    // Load sample capsules for the carousel
    async function loadSampleCapsules() {
      try {
        const response = await fetch('http://localhost:5000/api/capsules?limit=4');
        const data = await response.json();
        
        if (data.success && data.capsules.length > 0) {
          const carousel = document.getElementById('thumbCarousel');
          carousel.innerHTML = ''; // Clear loading thumbnails
          
          data.capsules.slice(0, 4).forEach(capsule => {
            const thumbnail = createThumbnail(capsule);
            carousel.appendChild(thumbnail);
          });
        }
      } catch (error) {
        console.error('Failed to load sample capsules:', error);
        // Keep the loading thumbnails as fallback
      }
    }

    function createThumbnail(capsule) {
      const thumbnail = document.createElement('div');
      thumbnail.className = 'intro-thumbnail';
      
      const creator = `${capsule.creator.slice(0, 6)}...${capsule.creator.slice(-4)}`;
      const isRevealed = capsule.isRevealed;
      const imageSrc = isRevealed 
        ? `http://localhost:5000/ipfs/${capsule.imageCID}` 
        : `http://localhost:5000/pixelated/${capsule.imageCID}`;
      
      // Truncate title if too long
      let title = capsule.title;
      if (title.length > 20) {
        const words = title.split(' ');
        if (words.length > 2) {
          title = words.slice(0, 2).join(' ') + '...';
        } else {
          title = title.substring(0, 20) + '...';
        }
      }
      
      thumbnail.innerHTML = `
        <div class="rectangle-143"></div>
        <div class="content">
          <div class="issued-by-xyz">issued by ${creator}</div>
          <div class="title-on-two-lines">${title}</div>
          <div class="onchain-values-container">
            <div class="onchain-values">#${capsule.tags.split(',')[0].trim()}</div>
          </div>
        </div>
        <img class="image-cropped" src="${imageSrc}" alt="Capsule image" loading="lazy" 
             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
        <div class="image-placeholder" style="display: none;">üîí</div>
      `;
      
      // Add click handler to view capsule
      thumbnail.addEventListener('click', () => {
        window.location.href = `gallery.html#capsule-${capsule.id}`;
      });
      
      return thumbnail;
    }    function toggleMenu() {
      // Remove existing menu if present
      const existingMenu = document.querySelector('.menu-dropdown');
      if (existingMenu) {
        existingMenu.classList.remove('show');
        setTimeout(() => {
          existingMenu.remove();
        }, 300);
        return;
      }

      // Create new full-screen menu
      const menu = document.createElement('div');
      menu.className = 'menu-dropdown';
      
      const links = [
        { text: 'gallery', href: 'gallery.html' },
        { text: 'documentation', href: '#documentation' },
        { text: 'impressum', href: '#impressum' },
        { text: 'faq', href: '#faq' }
      ];
      
      links.forEach((link, index) => {
        const a = document.createElement('a');
        a.href = link.href;
        a.textContent = link.text;
        menu.appendChild(a);
      });

      // Add back button
      const backButton = document.createElement('div');
      backButton.className = 'menu-back';
      backButton.innerHTML = '&lt;';
      backButton.addEventListener('click', toggleMenu);
      menu.appendChild(backButton);
      
      // Append to body for full-screen overlay
      document.body.appendChild(menu);
      
      // Trigger animation
      setTimeout(() => {
        menu.classList.add('show');
      }, 10);
      
      // Remove menu when clicking outside or on links
      menu.addEventListener('click', (e) => {
        if (e.target === menu || e.target.tagName === 'A') {
          if (e.target.tagName === 'A' && e.target.href.startsWith('#')) {
            e.preventDefault(); // Prevent navigation for placeholder links
          }
          toggleMenu();
        }
      });
    }// Add event listener for menu button
    document.getElementById('menuButton').addEventListener('click', toggleMenu);

    // Load sample capsules when page loads
    document.addEventListener('DOMContentLoaded', loadSampleCapsules);
  </script>
</body>
</html>
